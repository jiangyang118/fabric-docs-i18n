

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>常见问题 &mdash; hyperledger-fabricdocs master documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="欢迎贡献！" href="CONTRIBUTING.html" />
    <link rel="prev" title="Gossip 数据传播协议" href="gossip.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          


          
            <a href="index.html" class="icon icon-home"> hyperledger-fabricdocs
          

          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

<br><img style="background-color: #fff; height: unset; width: unset;" alt="Hyperledger Fabric" src=_images/hyperledger_fabric_logo_color.png />
<br>
<a href="https://github.com/hyperledger/fabric"><img style="padding: 0px; margin: auto auto auto auto;" alt="GitHub" src="_static/images/github_button.png"/></a>
&nbsp;<a href="https://stackoverflow.com/questions/tagged/hyperledger-fabric"><img style="padding: 0px; margin: auto auto auto auto;" alt="StackOverflow" src="_static/images/stackoverflow_button.png"/></a>
&nbsp;<a href="https://chat.hyperledger.org"><img style="padding: 0px; margin: auto auto auto auto;" alt="Rocket Chat" src="_static/images/rocketchat_button.png"/></a>
&nbsp;<a href="https://www.youtube.com/playlist?list=PL0MZ85B_96CH7wvtrRzV7SvtRY0sI0DEg"><img style="padding: 0px; margin: auto auto auto auto;" alt="Youtube Channel" src="_static/images/youtube_button.png"/></a>

        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html">Hyperledger Fabric v2.0 更新说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="whatsnew.html#id7">发行说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="key_concepts.html">关键概念</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="developapps/developing_applications.html">开发应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment_guide_overview.html">部署一个生产网络</a></li>
<li class="toctree-l1"><a class="reference internal" href="ops_guide.html">操作指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrade.html">升级到最新版本</a></li>
<li class="toctree-l1"><a class="reference internal" href="command_ref.html">命令参考</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">架构参考</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">常见问题</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">背书</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">安全和访问控制</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">应用程序端编程模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id7">链码（智能合约和数字资产）</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id8">近期发布版本中的不同</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id9">排序服务</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bft">BFT</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">欢迎贡献！</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">术语表</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">版本发布</a></li>
<li class="toctree-l1"><a class="reference internal" href="questions.html">仍有问题？</a></li>
<li class="toctree-l1"><a class="reference internal" href="status.html">状态</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">hyperledger-fabricdocs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>常见问题</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/Fabric-FAQ.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>常见问题<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id2">
<h2>背书<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><strong>背书架构</strong>:</p>
<dl class="field-list simple">
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>在一个网络中需要多少个 Peer 节点来对一笔交易进行背书？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>为一笔交易进行背书所需 Peer 节点的数量取决于链码定义中所指定的背书策略。</p>
</dd>
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>一个应用程序客户端需要连接所有的 Peer 节点吗？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>客户端只需要连接链码的背书策略所需数量的 Peer 节点即可。</p>
</dd>
</dl>
</div>
<div class="section" id="id3">
<h2>安全和访问控制<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<dl class="field-list">
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>我如何来确保数据隐私？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>对于数据隐私，这里有很多个方面。首先，你可以使用通道来隔离你的网络，每个通道代表网络成员的一个子集，这些成员查看部署到该通道上的链码的相关数据。</p>
<p>其次，你可以使用 <a class="reference external" href="private-data/private-data.html">私有数据</a> 来保护组织的数据隐私。一个私有数据集合规定了通道中的一部分组织可以背书、提交或者查询私有数据，而不需要额外创建一个通道。在这个通道上其他的参与者只会收到数据的哈希值。更多信息可以参考 <a class="reference internal" href="private_data_tutorial.html"><span class="doc">在 Fabric 中使用私有数据</span></a> 教程。注意，在本文档的“关键概念”章节也解释了 <a class="reference external" href="private-data/private-data.html#when-to-use-a-collection-within-a-channel-vs-a-separate-channel">什么时候应该使用私有数据而不是通道</a> 。</p>
<p>第三，作为 Fabric 使用私有数据来对于数据进行哈希的替代方案，客户端应用可以在调用链码之前将数据进行哈希或者加密。如果你将数据进行哈希运算的话，那么你需要提供一个方式来共享原始的数据。如果你将信息进行加密的话，那么你需要提供一个方式来共享解密秘钥。</p>
<p>第四，你可以通过在链码逻辑中增加访问控制的方式，将数据的访问权限限制在你的组织中的某些角色上。</p>
<p>第五，账本数据还可以通过在 Peer 节点上的文件系统加密的方式来进行加密，在数据在交换的过程中是通过 TLS 来进行加密的。</p>
</dd>
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>排序节点能够看到交易数据吗？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>不，排序节点仅仅对交易进行排序，他们不会打开交易。如果你不想让数据经过排序节点，那么应该使用 Fabric 的私有数据功能。或者，你可以在调用链码之前在客户端应用中对数据进行哈希运算或加密。如果你对数据进行加密的话，那么你需要提供一种方式来共享解密的秘钥。</p>
</dd>
</dl>
</div>
<div class="section" id="id6">
<h2>应用程序端编程模型<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<dl class="field-list">
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>应用程序客户端如何知道一笔交易的结果？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>模拟交易的结果会在提案响应中通过背书节点返回给客户端。如果有多个背书节点，那么客户端会检查所有的反馈是否一样，并且提交结果和背书来进行交易的排序和提交。最终提交节点将会验证这笔交易是否有效，并且客户端会通过 SDK 获取交易的最终结果。</p>
</dd>
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>我应该如何查询账本的数据？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>在链码中，你可以基于键来查询。键可以按照范围来查询，复合键还可以通过多参数的组合进行查询。比如可以用一个复合键（owner, asset_id）查询所有某个实体拥有的资产。这些基于键的查询可以用来对于账本进行只读查询，也可以在更新账本的交易中使用。</p>
<p>如果你将资产数据在链码中定义为 JSON 格式并且使用 CouchDB 作为状态数据库的话，你也可以在链码中使用 CouchDB JSON 查询语句来对链码的数据进行富查询。应用程序客户端可以进行只读查询，这些反馈通常不会作为交易的一部分被提交到排序服务。</p>
</dd>
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>我应该如何查询历史数据来了解数据的来源？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>链码 API <code class="docutils literal notranslate"><span class="pre">GetHistoryForKey()</span></code> 能够返回一个键对应的历史。</p>
</dd>
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>如何保证查询的结果是正确的，尤其是当被查询的 Peer 节点可能正在恢复并且在获取缺失的区块？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>客户端可以查询多个 Peer 节点，比较他们的区块高度、查询结果，选择具有更高的区块高度的节点。</p>
</dd>
</dl>
</div>
<div class="section" id="id7">
<h2>链码（智能合约和数字资产）<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<dl class="field-list">
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>Hyperledger Fabric 支持智能合约吗？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>是的。我们将这个功能称为链码。它是我们对于智能合约的实现，并且带有一些额外的功能。</p>
<p>链码是部署在网络上的程序代码，它会在共识过程中被链的验证者执行并验证。开发者可以使用链码来开发业务合约、资产定义以及共同管理的去中心化的应用。</p>
</dd>
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>我如何创建一个业务合约？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>通常有两种方式开发业务合约：第一种方式是将单独的合约编码到独立的链码实例中。第二种方式，也可能是更有效率的一种方式，是使用链码来创建去中心化的应用，来管理一个或者多个类型的业务合约的生命周期，并且让用户在这些应用中实例化这些合约的实例。</p>
</dd>
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>我应该如何创建资产？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>用户可以使用链码（对于业务规则）和成员服务（对于数字通证）来设计资产，以及管理这些资产的逻辑。</p>
<p>在大多区块链解决方案中由两种流行的方式来定义资产：无状态的 UTXO 模型，账户余额会被编码到过去的交易记录中；账户模型，账户的余额会被保存在账本的状态存储空间中。</p>
<p>每种方式都带有他们自己的好处及坏处。本区块链技术不主张任何一种方式。相反，我们的第一个需求就是确保两种方式都能够被轻松实现。</p>
</dd>
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>支持哪些语言的链码开发？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>链码能够使用任何的编程语言来编写并且在容器中执行。当前，支持 Golang、node.js 和 java 链码。</p>
<p>也可以使用 <a class="reference external" href="https://hyperledger.github.io/composer/">Hyperledger Composer</a> 来构建 Hyperledger Fabric 应用。</p>
</dd>
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>Hyperledger 有原生的货币吗？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>没有。然而，如果你的网络真的需要一个原生的货币的话，你可以通过链码来开发你自己的原生货币。对于原生货币的一个常用属性就是交易会引起余额的变动。</p>
</dd>
</dl>
</div>
<div class="section" id="id8">
<h2>近期发布版本中的不同<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>我在哪里能够看到在不同的发布版本中都有哪些变动？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>发布版本中的变动记录在 <a class="reference internal" href="releases.html"><span class="doc">版本发布</span></a> 中。</p>
</dd>
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p>如果还要其他问题的话，我在哪里可以获得技术上的帮助？</p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>请使用 <a class="reference external" href="https://stackoverflow.com/questions/tagged/hyperledger">StackOverflow</a> 。</p>
</dd>
</dl>
</div>
<div class="section" id="id9">
<h2>排序服务<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p><strong>我有一个正在运行的排序服务，如果我想要转换共识算法，我该怎么做？</strong></p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>这个是不支持的。</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p><strong>什么是排序节点系统通道？</strong></p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">回答</dt>
<dd class="field-odd"><p>排序节点系统通道（有时被称为排序服务系统通道）是排序节点初始化时被启动的通道。它被用来编排通道的创建。排序节点系统通道定义了联盟以及新通道的初始配置信息。在通道被创建的时候，在联盟中定义的组织、<code class="docutils literal notranslate"><span class="pre">/Channel</span></code> 组中的值和策略以及 <code class="docutils literal notranslate"><span class="pre">/Channel/Orderer</span></code> 组中的值和策略，会被合并到一起来形成一个新的初始的通道定义。</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p><strong>如果我更新了我的应用程序通道，我是否需要更新我的排序系统通道？</strong></p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>一旦一个应用程序通道被创建，它的管理独立于其他任何的通道（包括排序节点系统通道）。基于所做的改动，变动可能需要也可能不需要被放置到其他的通道。一般来说，MSP 的变动应该被同步到所有的通道，而策略的变动一般是针对一个特定通道的。</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p><strong>我可以有一个既作为一个排序节点又作为应用程序角色的组织吗？</strong></p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>尽管这是可能的，但是我们强烈不建议这样配置。默认的 <code class="docutils literal notranslate"><span class="pre">/Channel/Orderer/BlockValidation</span></code> 策略允许任何具有有效的证书的排序组织来为区块签名。如果一个组织既是排序节点又是应用程序的话，那么这个策略就应该被更新为只有被授权来排序的证书的子集才可以为区块签名。</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p><strong>我想要实现一个针对于 Fabric 的共识，我应该如何开始？</strong></p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>一个共识的插件需要实现在 <a class="reference external" href="https://github.com/hyperledger/fabric/blob/release-2.0/orderer/consensus/consensus.go">consensus包</a> 中定义 <code class="docutils literal notranslate"><span class="pre">Consenter</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Chain</span></code> 接口。有一个基于 <a class="reference external" href="https://github.com/hyperledger/fabric/tree/release-2.0/orderer/consensus/etcdraft">raft</a> 的插件。你可以学习更多的内容帮助你实现。排序服务的代码可以在 <a class="reference external" href="https://github.com/hyperledger/fabric/tree/release-2.0/orderer">orderer包</a> 中找到。</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p><strong>我想要改变我的排序服务配置，比如批处理的超时时间，当我启动了网络之后，我该如何做？</strong></p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>这属于网络的配置。请参考 <a class="reference internal" href="commands/configtxlator.html"><span class="doc">&lt;no title&gt;</span></a> 。</p>
</dd>
</dl>
<div class="section" id="bft">
<h3>BFT<a class="headerlink" href="#bft" title="Permalink to this headline">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">问题</dt>
<dd class="field-odd"><p><strong>什么时候会有 BFT 版本的排序服务？</strong></p>
</dd>
<dt class="field-even">回答</dt>
<dd class="field-even"><p>目前还没有具体的时间。 We are working towards a release during the 2.x cycle,
i.e. it will come with a minor version upgrade in Fabric.</p>
</dd>
</dl>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="CONTRIBUTING.html" class="btn btn-neutral float-right" title="欢迎贡献！" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gossip.html" class="btn btn-neutral" title="Gossip 数据传播协议" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Hyperledger 2020.
    <br>
      <br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
        <img alt="Creative Commons License" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>